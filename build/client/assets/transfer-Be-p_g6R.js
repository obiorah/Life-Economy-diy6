import{r as n,j as e}from"./jsx-runtime-yvcgGv6i.js";import{t as k,v,F as w}from"./components-D_nUPfgz.js";const I=()=>[{title:"Life Economy - Transfer ESSENCE"},{name:"description",content:"Transfer ESSENCE to other users"}],S=()=>{const s=["Alex","Jamie","Taylor","Morgan","Casey","Riley","Jordan","Quinn"],l=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis"];return Array.from({length:8},(i,d)=>({id:`user${d+1e3}`,name:`${s[d%s.length]} ${l[d%l.length]}`,balance:Math.floor(Math.random()*1e4)+500,avatar:`https://i.pravatar.cc/150?img=${d+10}`}))};function R(){const[s,l]=n.useState(S()),[i,d]=n.useState(null),[c,u]=n.useState(""),[x,p]=n.useState([]),[y,f]=n.useState(0),[o,g]=n.useState(""),t=k(),h=v().state==="submitting",b=n.useMemo(()=>{if(!o)return s;const r=o.toLowerCase();return s.filter(a=>a.name.toLowerCase().includes(r)||a.id.toLowerCase().includes(r))},[s,o]);n.useEffect(()=>{t!=null&&t.success&&(p(r=>[{id:t.transaction.id,amount:t.transaction.amount,recipientId:t.transaction.recipientId,recipientName:t.transaction.recipientName,note:t.transaction.note,timestamp:t.transaction.timestamp},...r.slice(0,2)]),f(r=>r+1),d(null),u(""),g(""))},[t]);const N=r=>{const a=r.target.value;u(a);const m=s.find(j=>j.id===a);d(m||null)};return e.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Transfer ESSENCE"}),e.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-950",children:[t!=null&&t.success?e.jsxs("div",{className:"mb-6 rounded-md bg-green-50 p-4 text-green-800 dark:bg-green-900 dark:text-green-50",children:[e.jsx("p",{className:"font-medium",children:t.message}),e.jsxs("p",{className:"mt-2 text-sm",children:["Transaction ID: ",t.transaction.id]})]}):t!=null&&t.error?e.jsx("div",{className:"mb-6 rounded-md bg-red-50 p-4 text-red-800 dark:bg-red-900 dark:text-red-50",children:e.jsx("p",{className:"font-medium",children:t.error})}):null,e.jsxs(w,{method:"post",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search-recipient",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-gray-100",children:"Search Recipient"}),e.jsx("input",{type:"text",id:"search-recipient",value:o,onChange:r=>g(r.target.value),placeholder:"Search by name or ID...",className:"mb-2 block w-full rounded-md border border-gray-300 bg-white p-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white"}),e.jsxs("label",{htmlFor:"recipient",className:"sr-only",children:[" ","Select Recipient"]}),e.jsxs("select",{id:"recipient",name:"recipient",value:c,className:"block w-full rounded-md border border-gray-300 bg-white p-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white",onChange:N,required:!0,children:[e.jsx("option",{value:"",disabled:!!c,children:"Select a user"})," ",b.map(r=>e.jsxs("option",{value:r.id,className:"text-gray-900 dark:text-white",children:[" ",r.name," (",r.id,")"]},r.id)),b.length===0&&o&&e.jsx("option",{value:"",disabled:!0,className:"text-gray-500 dark:text-gray-400",children:"No users found"})]})]}),i&&e.jsxs("div",{className:"flex items-center gap-4 rounded-md border p-4 dark:border-gray-700",children:[e.jsx("img",{src:i.avatar,alt:i.name,className:"h-12 w-12 rounded-full"}),e.jsx("div",{children:e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:i.name})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"amount",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-gray-100",children:"Amount (ESSENCE)"}),e.jsx("input",{type:"number",id:"amount",name:"amount",min:"1",step:"1",className:"block w-full rounded-md border border-gray-300 bg-white p-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white",placeholder:"Enter amount",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"note",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-gray-100",children:"Note (Optional)"}),e.jsx("textarea",{id:"note",name:"note",rows:3,className:"block w-full rounded-md border border-gray-300 bg-white p-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-white",placeholder:"Add a note about this transfer"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",disabled:h||!c,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 dark:bg-blue-800 dark:hover:bg-blue-700 dark:focus:ring-blue-600 dark:focus:ring-offset-gray-950",children:h?"Processing...":"Transfer ESSENCE"})})]},y)]}),e.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm dark:border-gray-800 dark:bg-gray-950",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Recent Transfers"}),e.jsx("div",{className:"space-y-4",children:x.length>0?x.map(r=>{const a=s.find(m=>m.id===r.recipientId)||{name:r.recipientName||`User ${r.recipientId}`,avatar:`https://i.pravatar.cc/150?u=${r.recipientId}`};return e.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:a.avatar,alt:"Recipient",className:"h-10 w-10 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(r.timestamp).toLocaleString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-green-600 dark:text-green-400",children:["-",r.amount," ESSENCE"]}),r.note&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.note})]})]},r.id)}):e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No recent transfers to display."})})]})]})}export{R as default,I as meta};
//# sourceMappingURL=transfer-Be-p_g6R.js.map
